#!/bin/zsh

function ago() {
    [ -f go.mod ] || [ -f go.work ] && {
        TORUN=${1:-go run -tags=debug .}
        reflex -r '\.go$' -s -- sh -c "$TORUN 2>&1"
    }

    [ -f Cargo.toml ] && {
        RUST_BACKTRACE=1 cargo-watch -x check -x run
    }

    [ -f pnpm-lock.yaml ] && {
        pnpm run dev --host
    }

    echo "Ecosystem not supported"
}
